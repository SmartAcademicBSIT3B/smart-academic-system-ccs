<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Section Assignment</title>
    <link rel="stylesheet" href="../css/tables.css">
    <link rel="stylesheet" href="../css/form_section_assignement.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body>

<div class="page">

    <h1 class="page-title">SECTION ASSIGNMENT</h1>

    <!-- Controls -->
    <div class="controls">

        <div class="left-controls">

            <!-- UPDATED SELECT -->
            <div class="select-wrapper">
                <select>
                    <option>Filter Option</option>
                    <option>Juan Delacruz</option>
                    <option>Maria Lopez</option>
                </select>
                <span class="arrow"></span>
            </div>

            <button class="filter-btn">Filter</button>
        </div>

        <!-- RIGHT BUTTONS -->
        <div class="right-controls">

            <div class="tooltip">
                <button class="generate-btn">
                    <i data-lucide="printer"></i>
                </button>
                <span class="tooltip-text">Generate Report</span>
            </div>

            <div class="tooltip">
                <button class="add-btn" id="assign-section-btn">+</button>
                <span class="tooltip-text">Assign Section</span>
            </div>

        </div>

    </div>

    <!-- Modal - Section Assigning Form -->
    <div id="section-assign-modal" class="modal section-assign-modal" style="display: none;">
        <div class="modal-content">
            <div class="form-header">SECTION ASSIGNING</div>
            
            <div class="form-body">
                <div class="input-group">
                    <label for="section-professor">PROFESSOR</label>
                    <div class="select-wrapper">
                        <select id="section-professor">
                            <option value="" disabled selected>Professor</option>
                            <option>Juan Delacruz</option>
                            <option>Maria Lopez</option>
                        </select>
                        <span class="arrow"></span>
                    </div>
                </div>
                <div class="input-group">
                    <label for="section-name">SECTION</label>
                    <div class="select-wrapper">
                        <select id="section-name">
                            <option value="" disabled selected>Section</option>
                            <option>BSIT-3A</option>
                            <option>BSIT-3B</option>
                        </select>
                        <span class="arrow"></span>
                    </div>
                </div>
            </div>
            <div class="form-actions">
                <button type="button" class="cancel-btn" id="section-cancel-btn">Cancel</button>
                <button type="button" class="save-btn" id="section-save-btn">Save</button>
            </div>
        </div>
    </div>

    <!-- Table -->
    <div class="table-card">
        <div class="table-wrapper">

            <table>
                <thead>
                    <tr>
                        <th><input type="checkbox" /></th>
                        <th>Section</th>
                        <th>Professor</th>
                        <th>Date Assigned</th>
                        <th></th>
                    </tr>
                </thead>

                <tbody>
                    <tr>
                        <td><input type="checkbox" /></td>
                        <td>BSIT-3B</td>
                        <td>Juan Delacruz</td>
                        <td>Feb.21,2026</td>
                        <td class="action-cell">
                            <div class="dropdown">
                                <button class="dots-btn">
                                    <i data-lucide="more-vertical"></i>
                                </button>
                                <div class="dropdown-menu">
                                    <button>Edit</button>
                                    <button class="danger">Delete</button>
                                </div>
                            </div>
                        </td>
                    </tr>

                    <tr>
                        <td><input type="checkbox" /></td>
                        <td>BSIT-3A</td>
                        <td>Maria Lopez</td>
                        <td>Feb.22,2026</td>
                        <td class="action-cell">
                            <div class="dropdown">
                                <button class="dots-btn">
                                    <i data-lucide="more-vertical"></i>
                                </button>
                                <div class="dropdown-menu">
                                    <button>Edit</button>
                                    <button class="danger">Delete</button>
                                </div>
                            </div>
                        </td>
                    </tr>

                </tbody>
            </table>

        </div>
    </div>

</div>

<script>
    lucide.createIcons();

    document.querySelectorAll(".dots-btn").forEach(btn => {
        btn.addEventListener("click", function (e) {
            e.stopPropagation();

            document.querySelectorAll(".dropdown-menu").forEach(menu => {
                menu.classList.remove("show");
            });

            this.nextElementSibling.classList.toggle("show");
        });
    });

    document.addEventListener("click", () => {
        document.querySelectorAll(".dropdown-menu").forEach(menu => {
            menu.classList.remove("show");
        });
    });

    document.querySelector(".generate-btn").addEventListener("click", () => {
        window.print();
    });

    const select = document.querySelector(".select-wrapper select");
    select.addEventListener("change", () => {
        select.blur();
    });

    // Section Assign Modal - open/close
    const sectionModal = document.getElementById("section-assign-modal");
    document.getElementById("assign-section-btn").addEventListener("click", () => {
        sectionModal.style.display = sectionModal.style.display === "none" || !sectionModal.style.display ? "flex" : "none";
    });

    document.getElementById("section-cancel-btn").addEventListener("click", () => {
        sectionModal.style.display = "none";
    });

    document.getElementById("section-save-btn").addEventListener("click", () => {
        const professor = document.getElementById("section-professor").value;
        const section = document.getElementById("section-name").value;
        if (professor && section) {
            // Optional: add row to table or submit data
            sectionModal.style.display = "none";
        }
    });
</script>

</body>
</html>